<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>MENI - Explore Memes</title>
  <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@500&display=swap" rel="stylesheet">
  <script src="https://unpkg.com/@tonconnect/sdk@latest/dist/tonconnect.umd.min.js"></script>
  <style>
    body { background: #1f1f1f; font-family: 'Space Grotesk', sans-serif; color: #f5f5f5; margin: 0; padding: 0; }
    header { text-align: center; padding: 1rem; background: #2b2b2b; border-bottom: 2px solid #ff9900; }
    .wallet-button button { padding: 0.5rem 1rem; border-radius: 999px; background: #ff9900; border: none; color: #1f1f1f; cursor: pointer; }
    .wallet-icon { display: none; margin-top: 1rem; }
  </style>
</head>
<body>
  <header>
    <div class="wallet-button" id="walletBtn">
      <button onclick="connectWallet()">Connect Wallet</button>
    </div>
    <div class="wallet-icon" id="walletIcon">
      <img src="logo.png" alt="Wallet Icon" width="40" />
    </div>
    <h1>MENI</h1>
    <p>Explore Memes + TON Wallet Integration</p>
  </header>

  <script>
    let tonConnect;

    async function connectWallet() {
      try {
        const connectedWallet = await tonConnect.connect();
        console.log("Wallet connected:", connectedWallet);
        document.getElementById('walletBtn').style.display = 'none';
        document.getElementById('walletIcon').style.display = 'block';
      } catch (err) {
        console.error("Wallet connection failed:", err);
        alert("Failed to connect wallet.");
      }
    }

    window.addEventListener("DOMContentLoaded", () => {
      const manifestUrl = window.location.origin + "/tonconnect-manifest.json";
      tonConnect = new window.tonconnect.TonConnect({ manifestUrl });
    });
  </script>
</body>
</html>